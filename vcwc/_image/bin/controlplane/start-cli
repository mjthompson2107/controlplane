#!/usr/bin/env bash
# $1 platform
# Â£2 repository category: external, internal, package, module, solution, cluster, interface
# $3 realm

if [[ "$1" == "windows" ]] ; then export VCWC_OS="windows";
elif [[ "$1" == "container" ]] ; then export VCWC_OS="container"; # this is non-interactive mode
else export VCWC_OS="linux"; fi # default is linux
shift

hostname="${VCWC_HOSTNAME}"
if [[ "$hostname" == "host.docker.internal" ]] ; then
	hostname="linuxkit"
fi
export PS1="${hostname}:${VCWC_FLAVOR}#$ "

echo "" > ./current-console-selection

if [[ "$@" == *"@"* ]] ; then
	echo "$@" | tr "@" "\n" > commands.sh
	bash commands.sh
	rm commands.sh
else bash $@; fi
